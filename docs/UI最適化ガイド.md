# UI最適化ガイド

## 実施した最適化内容

### 1. AlertCard（アラートカード）の最適化

#### 表示項目の整理
- **ヘッダー**: 重要度・ステータス・SLAを1行に統合
- **件名**: 2行表示に変更（line-clamp-2）
- **顧客・担当者**: 1行にコンパクト表示
- **検知キーワード**: 最大3個まで表示（残りは件数表示）
- **新しい分析モデル指標**: 3列グリッドでコンパクト表示
  - 鎮火確率（Phase C）
  - 返信品質（Phase D）
  - 検知ルール
- **スコア・感情分析**: 1行に統合
- **AI要約**: 最小限の表示（2行まで）

#### レスポンシブ対応
- モバイル: 単一カラム
- タブレット: 単一カラム
- デスクトップ: 2列グリッド（xl:grid-cols-2）

### 2. AlertDetail（アラート詳細モーダル）の最適化

#### レイアウト改善
- **モーダル幅**: `max-w-7xl` → `max-w-6xl` に縮小
- **パディング**: レスポンシブ対応（p-4 md:p-6）
- **分析モデルサマリー**: 品質・指標・方向性の3軸をヘッダーで一覧表示
- **分析モデル指標**: 3列グリッドで統一表示
  - フェーズC: 鎮火確率予測
  - フェーズD: 返信品質スコア
  - 検知ルール: ルールタイプと詳細
- **タブ構成**: 「サマリー / 履歴」の2タブに集約し、詳細はサマリー内に折り込み

#### 表示項目の整理
- **スコア内訳**: 折りたたみ可能（details/summary）
- **情報の階層化**: 重要度に応じて視覚的な区別

### 3. アラート一覧ページの最適化

#### グリッドレイアウト
- **サイドバー**: `lg:col-span-3`（25%幅）
- **メインコンテンツ**: `lg:col-span-9`（75%幅）
- **アラートカード**: 2列グリッド（xl:grid-cols-2）

#### サイドバーの最適化
- **セグメントボタン**: コンパクト表示
  - 説明文を1行に制限（line-clamp-1）
  - 検知ラベルとアクションラベルを下部に配置
  - パディングを縮小（py-3 → py-2.5）
- **ビュー切り替え**: カード／コンパクト一覧のトグルをページ上部に追加

### 4. レスポンシブデザインの改善

#### ブレークポイント
- **モバイル**: `< 640px` - 単一カラム
- **タブレット**: `640px - 1024px` - 単一カラム、サイドバー折りたたみ
- **デスクトップ**: `1024px - 1440px` - サイドバー（固定）+ メインコンテンツ / カード2〜3列表示
- **大画面**: `> 1440px` - サイドバー固定 + メイン4列グリッド / コンパクト一覧は顧客・セグメント列を全表示

#### パディング・スペーシング
- **コンテナ**: `p-4 md:p-6`（レスポンシブ）
- **ギャップ**: `gap-4 md:gap-6`（レスポンシブ）
- **最大幅**: `max-w-screen-2xl`（PC向け 1600px レイアウト）

## 最適化のポイント

### 情報の優先順位
1. **最重要**: 重要度、ステータス、件名
2. **重要**: 顧客、担当者、検知キーワード
3. **参考**: 新しい分析モデル指標
4. **詳細**: スコア内訳、AI要約

### 視覚的な階層
- **カラーコーディング**: 
  - 重要度（A: 赤、B: オレンジ、C: 黄）
  - ステータス（未対応: 赤、対応中: 青、解決済み: 緑）
  - 分析モデル指標（Phase C: 青、Phase D: 黄、検知ルール: ローズ）

### スペース効率
- **不要な情報の削減**: 重複する情報を統合
- **コンパクト表示**: 小さなフォントサイズとパディング
- **折りたたみ可能**: 詳細情報は必要時のみ表示

## 今後の改善案

### 1. フィルタバーの改善
- モバイルでの折りたたみ対応
- よく使うフィルタの保存機能

### 2. アラートカードのカスタマイズ
- 表示項目の選択機能
- カードサイズの変更（リスト/グリッド/詳細）

### 3. ダッシュボードの最適化
- KPIカードのレスポンシブ対応
- チャートのサイズ調整

### 4. パフォーマンス最適化
- 仮想スクロールの導入（大量データ対応）
- 画像の遅延読み込み

## 確認方法

### ブラウザでの確認
1. **デスクトップ**: http://localhost:3002/alerts
2. **タブレット**: ブラウザの開発者ツールで1024px幅に調整
3. **モバイル**: ブラウザの開発者ツールで640px幅に調整

### 確認ポイント
- [ ] アラートカードが適切な幅で表示される
- [ ] 新しい分析モデル指標が正しく表示される
- [ ] サイドバーが適切な幅で表示される
- [ ] レスポンシブ対応が正しく機能する
- [ ] モーダルが適切なサイズで表示される
- [ ] 情報が整理されて見やすい

## 変更ファイル一覧

- `components/alerts/AlertCard.tsx` - アラートカードの最適化
- `components/alerts/AlertDetail.tsx` - アラート詳細モーダルの最適化
- `app/alerts/page.tsx` - アラート一覧ページのレイアウト最適化
- `data/mock/dummyAlerts.ts` - ダミーデータに新しい指標を追加

